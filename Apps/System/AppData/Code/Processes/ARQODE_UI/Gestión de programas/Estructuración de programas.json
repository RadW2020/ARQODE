{
  "$schema": "..\\Schemas\\Schema_base_process.json",
  "description": "Estructuración de programas",
  "processes": [
    {
      "Guid": "Nuevo programa",
      "Name": "Nuevo programa",
      "Description": "Nuevo programa",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": "Ly9JTkkgQ09ERSBQUkNHVUlEOiBOdWV2byBwcm9ncmFtYQ0KICAgICAgICAgICAgICAgIFRleHRCb3ggdGJfbm9tYnJlX3Byb2dyYW1hID0gKFRleHRCb3gpdmlldy5nZXRDdHJsKCJ0Yl9ub21icmVfcHJvZ3JhbWEiKTsNCiAgICAgICAgICAgICAgICBUZXh0Qm94IHRiX2Rlc2NyaXBjaW9uID0gKFRleHRCb3gpdmlldy5nZXRDdHJsKCJ0Yl9kZXNjcmlwY2lvbiIpOw0KICAgICAgICAgICAgICAgIFN0cmluZyBSdXRhID0gdmlldy52YXJfc3RyKCJSdXRhIik7DQoNCiAgICAgICAgICAgICAgICBpZiAodGJfbm9tYnJlX3Byb2dyYW1hLlRleHQgIT0gIiIpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBBUlFPREVfVUkuR2VzdG9yUHJvZ3JhbWFzLkNWZW50YW5hUHJvZ3JhbWFzIENWZW50YW5hUHJvZ3JhbWFzID0gbmV3IEFSUU9ERV9VSS5HZXN0b3JQcm9ncmFtYXMuQ1ZlbnRhbmFQcm9ncmFtYXModm0pOw0KICAgICAgICAgICAgICAgICAgICBEaXJlY3RvcnlJbmZvIHBwcm9nID0gR2xvYmFscy5BcHBEYXRhU2VjdGlvbihkUEFUSC5QUk9HUkFNKTsNCg0KICAgICAgICAgICAgICAgICAgICBGaWxlSW5mbyBmX3BsYW50aWxsYSA9IHBwcm9nLkdldEZpbGVzKGRHTE9CQUxTLlBST0dSQU1fVEVNUExBVEUpWzBdOw0KICAgICAgICAgICAgICAgICAgICBEaXJlY3RvcnlJbmZvIGRpID0gQXBwX2dsb2JhbHMuQXBwRGF0YVNlY3Rpb24oUGF0aC5Db21iaW5lKGRQQVRILkNPREUsIFJ1dGEpKTsNCg0KICAgICAgICAgICAgICAgICAgICBKU29uRmlsZSBqcGxhbnRpbGxhID0gbmV3IEpTb25GaWxlKGZfcGxhbnRpbGxhLkZ1bGxOYW1lKTsNCiAgICAgICAgICAgICAgICAgICAganBsYW50aWxsYS5qQWN0aXZlT2JqW2RQUk9HUkFNLk5BTUVdID0gdGJfbm9tYnJlX3Byb2dyYW1hLlRleHQ7DQogICAgICAgICAgICAgICAgICAgIGpwbGFudGlsbGEuakFjdGl2ZU9ialtkUFJPR1JBTS5ERVNDUklQVElPTl0gPSB0Yl9kZXNjcmlwY2lvbi5UZXh0Ow0KDQogICAgICAgICAgICAgICAgICAgIFN0cmluZyBuX3Byb2dyYW1hID0gdGJfbm9tYnJlX3Byb2dyYW1hLlRleHQuRW5kc1dpdGgoIi5qc29uIikgPyB0Yl9ub21icmVfcHJvZ3JhbWEuVGV4dCA6IHRiX25vbWJyZV9wcm9ncmFtYS5UZXh0ICsgIi5qc29uIjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFGaWxlLkV4aXN0cyhQYXRoLkNvbWJpbmUoZGkuRnVsbE5hbWUsIG5fcHJvZ3JhbWEpKSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgSlNvbkZpbGUganByb2dyYW1hID0gbmV3IEpTb25GaWxlKFBhdGguQ29tYmluZShkaS5GdWxsTmFtZSwgbl9wcm9ncmFtYSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAganByb2dyYW1hLndyaXRlSnNvbkZpbGUoanBsYW50aWxsYS5qQWN0aXZlT2JqKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICgoRm9ybSl2aWV3Lm1haW5Db250cm9sKCkpLkNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlQm94LlNob3coIllhIGV4aXN0ZSB1biBwcm9ncmFtYSBjb24gZXN0ZSBub21icmUiKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL0VORCBDT0RFIFBSQ0dVSUQ6IE51ZXZvIHByb2dyYW1h"
    },
    {
      "Guid": "Nueva carpeta de programa",
      "Name": "Nueva carpeta de programa",
      "Description": "Nueva carpeta de programa",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": "Ly9JTkkgQ09ERSBQUkNHVUlEOiBOdWV2YSBjYXJwZXRhIGRlIHByb2dyYW1hDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmVlVmlldyBBcmJvbFByb2dyYW1hcyA9IChUcmVlVmlldyl2aWV3LmdldEN0cmwoIkFyYm9sUHJvZ3JhbWFzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJlZU5vZGUgTl9Qcm9ncmFtYUFjdGl2byA9IEFyYm9sUHJvZ3JhbWFzLlNlbGVjdGVkTm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTl9Qcm9ncmFtYUFjdGl2by5OYW1lLkVuZHNXaXRoKCIuanNvbiIpKSBOX1Byb2dyYW1hQWN0aXZvID0gTl9Qcm9ncmFtYUFjdGl2by5QYXJlbnQ7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOX1Byb2dyYW1hQWN0aXZvLk5vZGVzLkFkZCgiTmV3IHByb2dyYW0gZm9sZGVyIChGMikiKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRU5EIENPREUgUFJDR1VJRDogTnVldmEgY2FycGV0YSBkZSBwcm9ncmFtYQ=="
    },
    {
      "Guid": "Eliminar programa",
      "Name": "Eliminar programa",
      "Description": "Nuevo programa",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": "Ly9JTkkgQ09ERSBQUkNHVUlEOiBFbGltaW5hciBwcm9ncmFtYQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyZWVWaWV3IEFyYm9sUHJvZ3JhbWFzID0gKFRyZWVWaWV3KXZpZXcuZ2V0Q3RybCgiQXJib2xQcm9ncmFtYXMiKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUU9ERV9VSS5HZXN0b3JQcm9ncmFtYXMuQ1ZlbnRhbmFQcm9ncmFtYXMgQ1ZlbnRhbmFQcm9ncmFtYXMgPSBuZXcgQVJRT0RFX1VJLkdlc3RvclByb2dyYW1hcy5DVmVudGFuYVByb2dyYW1hcyh2bSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFyYm9sUHJvZ3JhbWFzLlNlbGVjdGVkTm9kZS5GdWxsUGF0aC5FbmRzV2l0aCgiLmpzb24iKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENTdHJ1Y3RNb2RpZmljYXRpb25zIGNzbW9kID0gbmV3IENTdHJ1Y3RNb2RpZmljYXRpb25zKHN5cywgQXBwX2dsb2JhbHMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheUxpc3QgbGlzdGFQcm9ncmFtYXMgPSBjc21vZC5TZWFyY2hQcm9ncmFtQ2FsbHNfSU9DKEFyYm9sUHJvZ3JhbWFzLlNlbGVjdGVkTm9kZS5GdWxsUGF0aC5SZXBsYWNlKGRQUk9HUkFNLkZPTERFUiArICJcXCIsICIiKS5SZXBsYWNlKCJcXCIsICIuIikuUmVwbGFjZSgiLmpzb24iLCAiIikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGFQcm9ncmFtYXMuQ291bnQgPD0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5SW5mbyBkaSA9IEFwcF9nbG9iYWxzLkFwcERhdGFTZWN0aW9uKGRQQVRILkNPREUpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlLkRlbGV0ZShQYXRoLkNvbWJpbmUoZGkuRnVsbE5hbWUsIEFyYm9sUHJvZ3JhbWFzLlNlbGVjdGVkTm9kZS5GdWxsUGF0aCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIG1lbnNhamUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdG9yeUluZm8gcHByb2cgPSBBcHBfZ2xvYmFscy5BcHBEYXRhU2VjdGlvbihkUEFUSC5QUk9HUkFNKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBwcm9ncmFtYSBpbiBsaXN0YVByb2dyYW1hcykgeyBtZW5zYWplICs9IHByb2dyYW1hLlJlcGxhY2UocHByb2cuRnVsbE5hbWUgKyAiXFwiLCAiIikgKyAiXHJcbiI7IH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lc3NhZ2VCb3guU2hvdygiTm8gc2UgcHVlZGUgZWxpbWluYXIgZWwgcHJvZ3JhbWEgaGFzdGEgcXVlIG5vIHNlIGVsaW1pbmVuIGxhcyBzaWd1aWVudGVzIHJlZmVyZW5jaWFzOiBcclxuIiArIG1lbnNhamUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBkaV9wYXRoID0gUGF0aC5Db21iaW5lKEFwcF9nbG9iYWxzLkFwcERhdGFTZWN0aW9uKGRQQVRILkNPREUpLkZ1bGxOYW1lLCBBcmJvbFByb2dyYW1hcy5TZWxlY3RlZE5vZGUuRnVsbFBhdGgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXJlY3RvcnlJbmZvIGRpID0gbmV3IERpcmVjdG9yeUluZm8oZGlfcGF0aCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaS5HZXRGaWxlcygpLkNvdW50KCkgPD0gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGkuRGVsZXRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcmJvbFByb2dyYW1hcy5TZWxlY3RlZE5vZGUuUmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlQm94LlNob3coIkVsIGRpcmVjdG9yaW8gZGViZSBlc3RhciB2YWPDrW8gcGFyYSBwb2RlciBzZXIgZWxpbWluYWRvIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0VORCBDT0RFIFBSQ0dVSUQ6IEVsaW1pbmFyIHByb2dyYW1h"
    },
    {
      "Guid": "afcc100c-bcf1-43bc-8b91-c5c1fc199b68",
      "Name": "Cortar programa",
      "Description": "Selecciona el programa origen a mover. Guarda el enlace en el portapapeles y habilita la opción de pegar en el menú desplegable del programa.",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": ""
    },
    {
      "Guid": "1ff83da1-817c-4c05-bf34-579e43091bb0",
      "Name": "Pegar programa",
      "Description": "Mueve un programa de ubicación. Obtiene el enlace del programa a mover del portapapeles.",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": "Ly9JTkkgQ09ERSBQUkNHVUlEOiAxZmY4M2RhMS04MTdjLTRjMDUtYmYzNC01NzllNDMwOTFiYjANCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUU9ERV9VSS5HZXN0b3JQcm9ncmFtYXMuQ1ZlbnRhbmFQcm9ncmFtYXMgQ1ZlbnRhbmFQcm9ncmFtYXMgPSBuZXcgQVJRT0RFX1VJLkdlc3RvclByb2dyYW1hcy5DVmVudGFuYVByb2dyYW1hcyh2bSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ1ZlbnRhbmFQcm9ncmFtYXMuQXJib2xQcm9ncmFtYXMuU2VsZWN0ZWROb2RlLkZ1bGxQYXRoLkNvbnRhaW5zKGRQUk9HUkFNLkZPTERFUiArICJcXCIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE9yaWdpbl9wYXRoID0gQ2xpcGJvYXJkLkdldFRleHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5SW5mbyBwcHJvZyA9IEFwcF9nbG9iYWxzLkFwcERhdGFTZWN0aW9uKGRQQVRILlBST0dSQU0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgT3JpZ2luX2Z1bGxfcGF0aCA9IFBhdGguQ29tYmluZShwcHJvZy5GdWxsTmFtZSwgT3JpZ2luX3BhdGguUmVwbGFjZSgiLiIsICJcXCIpICsgIi5qc29uIik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGUuRXhpc3RzKE9yaWdpbl9mdWxsX3BhdGgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlSW5mbyBmaSA9IG5ldyBGaWxlSW5mbyhPcmlnaW5fZnVsbF9wYXRoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBUYXJnZXRfZnVsbF9wYXRoID0gUGF0aC5Db21iaW5lKFBhdGguQ29tYmluZShBcHBfZ2xvYmFscy5BcHBEYXRhU2VjdGlvbihkUEFUSC5DT0RFKS5GdWxsTmFtZSwgQ1ZlbnRhbmFQcm9ncmFtYXMuQXJib2xQcm9ncmFtYXMuU2VsZWN0ZWROb2RlLkZ1bGxQYXRoKSwgZmkuTmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgVGFyZ2V0X3BhdGggPSAoQ1ZlbnRhbmFQcm9ncmFtYXMuQXJib2xQcm9ncmFtYXMuU2VsZWN0ZWROb2RlLkZ1bGxQYXRoLlJlcGxhY2UoZFBST0dSQU0uRk9MREVSICsgIlxcIiwgIiIpICsgIi4iICsgZmkuTmFtZSkuUmVwbGFjZSgiLmpzb24iLCAiIikuUmVwbGFjZSgiXFwiLCAiLiIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIG9sZCBwcm9ncmFtIHBhdGggb2N1cnJlbmNpZXMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENTdHJ1Y3RNb2RpZmljYXRpb25zIGNzbW9kID0gbmV3IENTdHJ1Y3RNb2RpZmljYXRpb25zKHN5cywgQXBwX2dsb2JhbHMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Ntb2QuTW92ZVByb2dyYW0oT3JpZ2luX3BhdGgsIFRhcmdldF9wYXRoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsZSBtb3ZlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlLk1vdmUoT3JpZ2luX2Z1bGxfcGF0aCwgVGFyZ2V0X2Z1bGxfcGF0aCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENWZW50YW5hUHJvZ3JhbWFzLmNvbnRleHRNZW51X1Byb2dyYW1hcy5JdGVtc1syXS5FbmFibGVkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlQm94LlNob3coIkRlYmUgY29ydGFyIHVuIHByb2dyYW1hIGRlbCDDoXJib2wgZGUgcHJvZ3JhbWFzIGFudGVzIGRlIHBlZ2FybG8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZXNzYWdlQm94LlNob3coIkRlYmUgcGVnYXIgZWwgcHJvZ3JhbWEgZGVudHJvIGRlbCDDoXJib2wgZGUgcHJvZ3JhbWFzIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0VORCBDT0RFIFBSQ0dVSUQ6IDFmZjgzZGExLTgxN2MtNGMwNS1iZjM0LTU3OWU0MzA5MWJiMA=="
    },
    {
      "Guid": "Renombrar programa",
      "Name": "Renombrar programa",
      "Description": "Renombrar programa",
      "Version": "1.0",
      "Configuration": [],
      "Default_Configuration": [],
      "Inputs": [],
      "Outputs": [],
      "Code": "Ly9JTkkgQ09ERSBQUkNHVUlEOiBSZW5vbWJyYXIgcHJvZ3JhbWENCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyZWVWaWV3IEFyYm9sUHJvZ3JhbWFzID0gKFRyZWVWaWV3KXZpZXcuZ2V0Q3RybCgiQXJib2xQcm9ncmFtYXMiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmVlTm9kZSBOX1Byb2dyYW1hQWN0aXZvID0gQXJib2xQcm9ncmFtYXMuU2VsZWN0ZWROb2RlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQVJRT0RFX1VJLkFSUU9ERV9VSS5DSW5wdXREaWFsb2cgQ0lucHV0RGlhbG9nID0gbmV3IEFSUU9ERV9VSS5BUlFPREVfVUkuQ0lucHV0RGlhbG9nKHZtKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSW5wdXREaWFsb2cuSW5wdXREaWFsb2cuQWNjZXB0QnV0dG9uID0gQ0lucHV0RGlhbG9nLkJBY2VwdGFyOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnB1dERpYWxvZy5JbnB1dERpYWxvZy5DYW5jZWxCdXR0b24gPSBDSW5wdXREaWFsb2cuQkNhbmNlbGFyOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnB1dERpYWxvZy5JbnB1dERpYWxvZy5UZXh0ID0gIlJlbm9tYnJhciBjYXJwZXRhIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDSW5wdXREaWFsb2cuTGFiZWwxLlRleHQgPSAiTm9tYnJlIGRlIGxhIGNhcnBldGEiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnB1dERpYWxvZy50ZXh0Qm94MS5UZXh0ID0gTl9Qcm9ncmFtYUFjdGl2by5UZXh0Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uQ2FuY2VsX2V2ZW50cyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpYWxvZ1Jlc3VsdCBkciA9IENJbnB1dERpYWxvZy5JbnB1dERpYWxvZy5TaG93RGlhbG9nKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRyID09IERpYWxvZ1Jlc3VsdC5PSykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUU9ERV9VSS5HZXN0b3JQcm9ncmFtYXMuQ1ZlbnRhbmFQcm9ncmFtYXMgQ1ZlbnRhbmFQcm9ncmFtYXMgPSBuZXcgQVJRT0RFX1VJLkdlc3RvclByb2dyYW1hcy5DVmVudGFuYVByb2dyYW1hcyh2bSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENJbnB1dERpYWxvZy50ZXh0Qm94MS5UZXh0ID0gQ0lucHV0RGlhbG9nLnRleHRCb3gxLlRleHQuUmVwbGFjZSgiXHJcbiIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGRpX2FudGlndW8gPSBQYXRoLkNvbWJpbmUoQXBwX2dsb2JhbHMuQXBwRGF0YVNlY3Rpb24oZFBBVEguQ09ERSkuRnVsbE5hbWUsIE5fUHJvZ3JhbWFBY3Rpdm8uRnVsbFBhdGgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgZGlfbnVldm8gPSBQYXRoLkNvbWJpbmUoQXBwX2dsb2JhbHMuQXBwRGF0YVNlY3Rpb24oZFBBVEguQ09ERSkuRnVsbE5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTl9Qcm9ncmFtYUFjdGl2by5GdWxsUGF0aC5TdWJzdHJpbmcoMCwgTl9Qcm9ncmFtYUFjdGl2by5GdWxsUGF0aC5MYXN0SW5kZXhPZigiXFwiKSkpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOX1Byb2dyYW1hQWN0aXZvLlRleHQuRW5kc1dpdGgoIi5qc29uIikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBub21icmVfZiA9IChDSW5wdXREaWFsb2cudGV4dEJveDEuVGV4dC5Ub0xvd2VyKCkuRW5kc1dpdGgoIi5qc29uIikpID8gQ0lucHV0RGlhbG9nLnRleHRCb3gxLlRleHQgOiBDSW5wdXREaWFsb2cudGV4dEJveDEuVGV4dCArICIuanNvbiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaV9udWV2byA9IFBhdGguQ29tYmluZShkaV9udWV2bywgbm9tYnJlX2YpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDU3RydWN0TW9kaWZpY2F0aW9ucyBjc21vZCA9IG5ldyBDU3RydWN0TW9kaWZpY2F0aW9ucyhzeXMsIEFwcF9nbG9iYWxzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBmcm9tX3BhdGggPSBOX1Byb2dyYW1hQWN0aXZvLkZ1bGxQYXRoLlJlcGxhY2UoZFBST0dSQU0uRk9MREVSICsgIlxcIiwgIiIpLlJlcGxhY2UoIlxcIiwgIi4iKS5SZXBsYWNlKCIuanNvbiIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyB0b19wYXRoID0gUGF0aC5Db21iaW5lKE5fUHJvZ3JhbWFBY3Rpdm8uRnVsbFBhdGguU3Vic3RyaW5nKDAsIE5fUHJvZ3JhbWFBY3Rpdm8uRnVsbFBhdGguTGFzdEluZGV4T2YoIlxcIikpLCBub21icmVfZikuUmVwbGFjZShkUFJPR1JBTS5GT0xERVIgKyAiXFwiLCAiIikuUmVwbGFjZSgiXFwiLCAiLiIpLlJlcGxhY2UoIi5qc29uIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Ntb2QuTW92ZVByb2dyYW0oZnJvbV9wYXRoLCB0b19wYXRoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZS5Nb3ZlKGRpX2FudGlndW8sIGRpX251ZXZvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5fUHJvZ3JhbWFBY3Rpdm8uVGV4dCA9IG5vbWJyZV9mOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlfbnVldm8gPSBQYXRoLkNvbWJpbmUoZGlfbnVldm8sIENJbnB1dERpYWxvZy50ZXh0Qm94MS5UZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaV9udWV2byAhPSBkaV9hbnRpZ3VvKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEaXJlY3RvcnkuRXhpc3RzKGRpX2FudGlndW8pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5SW5mbyBkaV9hbnQgPSBuZXcgRGlyZWN0b3J5SW5mbyhkaV9hbnRpZ3VvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlfYW50Lk1vdmVUbyhkaV9udWV2byk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdG9yeS5DcmVhdGVEaXJlY3RvcnkoZGlfbnVldm8pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOX1Byb2dyYW1hQWN0aXZvLlRleHQgPSBDSW5wdXREaWFsb2cudGV4dEJveDEuVGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRU5EIENPREUgUFJDR1VJRDogUmVub21icmFyIHByb2dyYW1h"
    }
  ]
}